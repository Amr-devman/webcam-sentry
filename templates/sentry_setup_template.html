{% extends "base.html" %}

{% block content %}

    <h1 class="text-xl-center text-white">Webcam Sentry</h1>
    <h3 class="text-md-left mx-auto" style="width: 1000px;">Monitor your room with ease</h3>
    <p class="text-md-left mx-auto" style="width: 1000px;">Webcam sentry
    observes your surroundings and can detect people within its field of view.
    People who are not whitelisted will be reported via an email to your phone,
    you will need to whitelist your face first before you can activate the
    sentry.</p> 
    <p class="text-md-left mx-auto" style="width: 1000px;">P.S: Your data is
    stored securely for 7 days after which it is deleted.</p>
    <div id="my_photo_booth" class="container">
        <div class="row">
            <div id="my_camera" class="col-lg-right mx-auto bg-warning"></div>

                <div id="whitelist" class="col-md-3  bg-light">
                    <p class="text-lg-center">
                        Whitelisted names appear here
                    </p>
                    <ul id="whitelist-list" class="list-group">
                        {% for name in whitelisted_name %}
                            <ol> {{ name }} </ol>
                        {% endfor %}
                    </ul>
                    
                </div>
            
           </div>
                </div>

                <div class="row no-gutters" style="text-align: center; margin-bottom: 10pt;">
                    <div id="pre_take_buttons" class="col-sm">
                        <input type=button class="btn btn-success btn-squared" value="Add to WhiteList" onClick="preview_snapshot()">
                    </div>
                    
                    <div id="clear_whitelist_button" class="col-sm">
                        <input type=button class="btn btn-success btn-squared" value="Clear WhiteList" onClick="clear_whitelist()">
                    </div>

                    <div class="row no-gutters" >
                        <div id="pre_take_buttons" class="col-sm">
                            <input type=button class="btn btn-success btn-squared" value="Add to WhiteList" onClick="preview_snapshot()">
                        </div>
                        
                        <div id="clear_whitelist_button" class="col-sm">
                            <input type=button class="btn btn-success btn-squared" value="Clear WhiteList" onClick="clear_whitelist()">
                        </div>
                        
                        <div id="activate_sentry_button" class="col-sm">
                            <input type=button class="btn btn-success btn-squared" value="Activate Sentry" onClick="window.location.href='{{ url_for( 'activate_sentry' ) }}';">
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

            <!-- bootstrap element stuff -->
            <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

            <!-- calling in ajax to pass images from javascript to flask backend -->
            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
            <script>window.jQuery || document.write('<script src="{{url_for('static', filename='jquery.js') }}">\x3C/script>')</script>

            <!-- webcamjs module -->
            <script src="{{url_for('static',filename='js/webcam.min.js')}}"></script>
            <!-- Configure a few settings and attach camera -->

            <script language="javascript">var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};</script>
            <script src="{{url_for('static', filename='js/set_webcam.js') }}"></script>
            <!-- javascript functions to save image and return to the backend -->
            <script src="{{url_for('static', filename='js/preview_snapshot.js') }}"></script>
            <script src="{{url_for('static', filename='js/clear_whitelist.js') }}"></script>

    </div>
{% endblock %}
